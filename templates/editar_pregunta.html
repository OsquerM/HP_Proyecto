<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Editar Pregunta - Harry Potter Quiz</title>
    <link rel="stylesheet" href="/static/css/admin.css">
</head>
<body>
    <h1>Editar Pregunta</h1>

    <form action="/admin/actualizar_pregunta" method="post" enctype="multipart/form-data">
        <input type="hidden" name="pregunta_id" value="{{ pregunta.id }}">
        
        <label>Texto de la pregunta:</label>
        <input type="text" name="texto_pregunta" value="{{ pregunta.texto_pregunta }}" required><br><br>

        {% for idx, r in enumerate(pregunta.respuestas) %}
            <h3>Respuesta {{ idx+1 }}</h3>
            <input type="hidden" name="respuesta_id{{ idx }}" value="{{ r.id }}">
            <label>Texto:</label>
            <input type="text" name="respuesta_texto{{ idx }}" value="{{ r.texto_respuesta }}" required>
            
            <label>Casa:</label>
            <select name="respuesta_casa{{ idx }}">
                <option value="Gryffindor" {% if r.casa=="Gryffindor" %}selected{% endif %}>Gryffindor</option>
                <option value="Slytherin" {% if r.casa=="Slytherin" %}selected{% endif %}>Slytherin</option>
                <option value="Ravenclaw" {% if r.casa=="Ravenclaw" %}selected{% endif %}>Ravenclaw</option>
                <option value="Hufflepuff" {% if r.casa=="Hufflepuff" %}selected{% endif %}>Hufflepuff</option>
            </select>
            
            {% if r.imagen %}
                <p>Imagen actual:</p>
                <img src="/static/{{ r.imagen }}" width="100">
            {% endif %}
            <label>Cambiar imagen:</label>
            <input type="file" name="respuesta_imagen{{ idx }}"><br><br>
        {% endfor %}

        <button type="submit">Actualizar Pregunta</button>
    </form>

    <a href="/admin">Volver al panel</a>
</body>
</html>
